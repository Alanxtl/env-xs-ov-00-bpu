// Generated by CIRCT firtool-1.61.0
// Standard header to adapt well known macros for register randomization.
`ifndef RANDOMIZE
  `ifdef RANDOMIZE_MEM_INIT
    `define RANDOMIZE
  `endif // RANDOMIZE_MEM_INIT
`endif // not def RANDOMIZE
`ifndef RANDOMIZE
  `ifdef RANDOMIZE_REG_INIT
    `define RANDOMIZE
  `endif // RANDOMIZE_REG_INIT
`endif // not def RANDOMIZE

// RANDOM may be set to an expression that produces a 32-bit random unsigned value.
`ifndef RANDOM
  `define RANDOM $random
`endif // not def RANDOM

// Users can define INIT_RANDOM as general code that gets injected into the
// initializer block for modules with registers.
`ifndef INIT_RANDOM
  `define INIT_RANDOM
`endif // not def INIT_RANDOM

// If using random initialization, you can also define RANDOMIZE_DELAY to
// customize the delay used, otherwise 0.002 is used.
`ifndef RANDOMIZE_DELAY
  `define RANDOMIZE_DELAY 0.002
`endif // not def RANDOMIZE_DELAY

// Define INIT_RANDOM_PROLOG_ for use in our modules below.
`ifndef INIT_RANDOM_PROLOG_
  `ifdef RANDOMIZE
    `ifdef VERILATOR
      `define INIT_RANDOM_PROLOG_ `INIT_RANDOM
    `else  // VERILATOR
      `define INIT_RANDOM_PROLOG_ `INIT_RANDOM #`RANDOMIZE_DELAY begin end
    `endif // VERILATOR
  `else  // RANDOMIZE
    `define INIT_RANDOM_PROLOG_
  `endif // RANDOMIZE
`endif // not def INIT_RANDOM_PROLOG_

// Include register initializers in init blocks unless synthesis is set
`ifndef SYNTHESIS
  `ifndef ENABLE_INITIAL_REG_
    `define ENABLE_INITIAL_REG_
  `endif // not def ENABLE_INITIAL_REG_
`endif // not def SYNTHESIS

// Include rmemory initializers in init blocks unless synthesis is set
`ifndef SYNTHESIS
  `ifndef ENABLE_INITIAL_MEM_
    `define ENABLE_INITIAL_MEM_
  `endif // not def ENABLE_INITIAL_MEM_
`endif // not def SYNTHESIS

module ITTageTable_2(	// src/main/scala/xiangshan/frontend/ITTAGE.scala:140:7
  input         clock,
  input         reset,
  input         io_req_valid,	// src/main/scala/xiangshan/frontend/ITTAGE.scala:145:14
  input  [38:0] io_req_bits_pc,	// src/main/scala/xiangshan/frontend/ITTAGE.scala:145:14
  input  [8:0]  io_req_bits_folded_hist_hist_13_folded_hist,	// src/main/scala/xiangshan/frontend/ITTAGE.scala:145:14
  input  [7:0]  io_req_bits_folded_hist_hist_4_folded_hist,	// src/main/scala/xiangshan/frontend/ITTAGE.scala:145:14
  output        io_resp_valid,	// src/main/scala/xiangshan/frontend/ITTAGE.scala:145:14
  output [1:0]  io_resp_bits_ctr,	// src/main/scala/xiangshan/frontend/ITTAGE.scala:145:14
  output [1:0]  io_resp_bits_u,	// src/main/scala/xiangshan/frontend/ITTAGE.scala:145:14
  output [38:0] io_resp_bits_target,	// src/main/scala/xiangshan/frontend/ITTAGE.scala:145:14
  input  [38:0] io_update_pc,	// src/main/scala/xiangshan/frontend/ITTAGE.scala:145:14
  input  [8:0]  io_update_folded_hist_hist_13_folded_hist,	// src/main/scala/xiangshan/frontend/ITTAGE.scala:145:14
  input  [7:0]  io_update_folded_hist_hist_4_folded_hist,	// src/main/scala/xiangshan/frontend/ITTAGE.scala:145:14
  input         io_update_valid,	// src/main/scala/xiangshan/frontend/ITTAGE.scala:145:14
  input         io_update_correct,	// src/main/scala/xiangshan/frontend/ITTAGE.scala:145:14
  input         io_update_alloc,	// src/main/scala/xiangshan/frontend/ITTAGE.scala:145:14
  input  [1:0]  io_update_oldCtr,	// src/main/scala/xiangshan/frontend/ITTAGE.scala:145:14
  input         io_update_uValid,	// src/main/scala/xiangshan/frontend/ITTAGE.scala:145:14
  input         io_update_u,	// src/main/scala/xiangshan/frontend/ITTAGE.scala:145:14
  input         io_update_reset_u,	// src/main/scala/xiangshan/frontend/ITTAGE.scala:145:14
  input  [38:0] io_update_target,	// src/main/scala/xiangshan/frontend/ITTAGE.scala:145:14
  input  [38:0] io_update_old_target	// src/main/scala/xiangshan/frontend/ITTAGE.scala:145:14
);

  wire         _resp_invalid_by_write_WIRE;	// src/main/scala/chisel3/util/Mux.scala:30:73
  wire         _wrbypass_io_hit;	// src/main/scala/xiangshan/frontend/ITTAGE.scala:271:24
  wire [1:0]   _wrbypass_io_hit_data_0_bits;	// src/main/scala/xiangshan/frontend/ITTAGE.scala:271:24
  wire [8:0]   _table_banks_1_io_r_resp_data_0_tag;	// src/main/scala/xiangshan/frontend/ITTAGE.scala:220:11
  wire [1:0]   _table_banks_1_io_r_resp_data_0_ctr;	// src/main/scala/xiangshan/frontend/ITTAGE.scala:220:11
  wire [38:0]  _table_banks_1_io_r_resp_data_0_target;	// src/main/scala/xiangshan/frontend/ITTAGE.scala:220:11
  wire [8:0]   _table_banks_0_io_r_resp_data_0_tag;	// src/main/scala/xiangshan/frontend/ITTAGE.scala:220:11
  wire [1:0]   _table_banks_0_io_r_resp_data_0_ctr;	// src/main/scala/xiangshan/frontend/ITTAGE.scala:220:11
  wire [38:0]  _table_banks_0_io_r_resp_data_0_target;	// src/main/scala/xiangshan/frontend/ITTAGE.scala:220:11
  wire         _us_io_rdata_0;	// src/main/scala/xiangshan/frontend/ITTAGE.scala:217:18
  reg  [511:0] validArray;	// src/main/scala/xiangshan/frontend/ITTAGE.scala:200:27
  wire [8:0]   s0_idx = io_req_bits_pc[9:1] ^ io_req_bits_folded_hist_hist_13_folded_hist;	// src/main/scala/xiangshan/frontend/ITTAGE.scala:181:31, :207:43
  reg  [8:0]   s1_idx;	// src/main/scala/xiangshan/frontend/ITTAGE.scala:213:36
  reg  [8:0]   s1_tag;	// src/main/scala/xiangshan/frontend/ITTAGE.scala:213:68
  reg          s1_bank_req_1h_0;	// src/main/scala/xiangshan/frontend/ITTAGE.scala:215:33
  reg          s1_bank_req_1h_1;	// src/main/scala/xiangshan/frontend/ITTAGE.scala:215:33
  wire [511:0] _s1_req_rhit_T = validArray >> s1_idx;	// src/main/scala/xiangshan/frontend/ITTAGE.scala:200:27, :213:36, :232:31
  reg          s1_bank_has_write_on_this_req_0;	// src/main/scala/xiangshan/frontend/ITTAGE.scala:240:48
  reg          s1_bank_has_write_on_this_req_1;	// src/main/scala/xiangshan/frontend/ITTAGE.scala:240:48
  wire [8:0]   update_idx = io_update_pc[9:1] ^ io_update_folded_hist_hist_13_folded_hist;	// src/main/scala/xiangshan/frontend/ITTAGE.scala:181:31, :207:43
  wire [8:0]   update_wdata_tag =
    io_update_pc[18:10] ^ io_update_folded_hist_hist_13_folded_hist
    ^ {io_update_folded_hist_hist_4_folded_hist, 1'h0};	// src/main/scala/xiangshan/frontend/ITTAGE.scala:160:86, :182:{32,52,61,75}, :207:43
  assign _resp_invalid_by_write_WIRE =
    s1_bank_req_1h_0 & s1_bank_has_write_on_this_req_0 | s1_bank_req_1h_1
    & s1_bank_has_write_on_this_req_1;	// src/main/scala/chisel3/util/Mux.scala:30:73, src/main/scala/xiangshan/frontend/ITTAGE.scala:215:33, :240:48
  wire         _s1_bank_has_write_on_this_req_WIRE_0 = io_update_valid & ~(update_idx[0]);	// src/main/scala/xiangshan/frontend/ITTAGE.scala:160:{66,86}, :181:{31,40}, :255:33
  wire         _s1_bank_has_write_on_this_req_WIRE_1 = io_update_valid & update_idx[0];	// src/main/scala/xiangshan/frontend/ITTAGE.scala:160:66, :181:{31,40}, :255:33
  wire [1:0]   old_ctr =
    _wrbypass_io_hit ? _wrbypass_io_hit_data_0_bits : io_update_oldCtr;	// src/main/scala/xiangshan/frontend/ITTAGE.scala:271:24, :277:20
  wire         update_wdata_ctr_oldSatNotTaken = old_ctr == 2'h0;	// src/main/scala/chisel3/util/Mux.scala:30:73, src/main/scala/xiangshan/frontend/BPU.scala:95:30, src/main/scala/xiangshan/frontend/ITTAGE.scala:277:20
  wire [1:0]   update_wdata_ctr =
    io_update_alloc
      ? 2'h2
      : (&old_ctr) & io_update_correct
          ? 2'h3
          : update_wdata_ctr_oldSatNotTaken & ~io_update_correct
              ? 2'h0
              : io_update_correct ? 2'(old_ctr + 2'h1) : 2'(old_ctr - 2'h1);	// src/main/scala/chisel3/util/Mux.scala:30:73, src/main/scala/xiangshan/frontend/BPU.scala:94:27, :95:30, :96:{8,21}, :97:{10,26,29}, :98:{12,24,35}, src/main/scala/xiangshan/frontend/ITTAGE.scala:277:20, :278:28
  wire [38:0]  update_wdata_target =
    io_update_alloc | update_wdata_ctr_oldSatNotTaken
      ? io_update_target
      : io_update_old_target;	// src/main/scala/xiangshan/frontend/BPU.scala:95:30, src/main/scala/xiangshan/frontend/ITTAGE.scala:281:{29,46}
  wire [511:0] _validArray_T =
    {io_update_valid & (&update_idx) | validArray[511],
     io_update_valid & update_idx == 9'h1FE | validArray[510],
     io_update_valid & update_idx == 9'h1FD | validArray[509],
     io_update_valid & update_idx == 9'h1FC | validArray[508],
     io_update_valid & update_idx == 9'h1FB | validArray[507],
     io_update_valid & update_idx == 9'h1FA | validArray[506],
     io_update_valid & update_idx == 9'h1F9 | validArray[505],
     io_update_valid & update_idx == 9'h1F8 | validArray[504],
     io_update_valid & update_idx == 9'h1F7 | validArray[503],
     io_update_valid & update_idx == 9'h1F6 | validArray[502],
     io_update_valid & update_idx == 9'h1F5 | validArray[501],
     io_update_valid & update_idx == 9'h1F4 | validArray[500],
     io_update_valid & update_idx == 9'h1F3 | validArray[499],
     io_update_valid & update_idx == 9'h1F2 | validArray[498],
     io_update_valid & update_idx == 9'h1F1 | validArray[497],
     io_update_valid & update_idx == 9'h1F0 | validArray[496],
     io_update_valid & update_idx == 9'h1EF | validArray[495],
     io_update_valid & update_idx == 9'h1EE | validArray[494],
     io_update_valid & update_idx == 9'h1ED | validArray[493],
     io_update_valid & update_idx == 9'h1EC | validArray[492],
     io_update_valid & update_idx == 9'h1EB | validArray[491],
     io_update_valid & update_idx == 9'h1EA | validArray[490],
     io_update_valid & update_idx == 9'h1E9 | validArray[489],
     io_update_valid & update_idx == 9'h1E8 | validArray[488],
     io_update_valid & update_idx == 9'h1E7 | validArray[487],
     io_update_valid & update_idx == 9'h1E6 | validArray[486],
     io_update_valid & update_idx == 9'h1E5 | validArray[485],
     io_update_valid & update_idx == 9'h1E4 | validArray[484],
     io_update_valid & update_idx == 9'h1E3 | validArray[483],
     io_update_valid & update_idx == 9'h1E2 | validArray[482],
     io_update_valid & update_idx == 9'h1E1 | validArray[481],
     io_update_valid & update_idx == 9'h1E0 | validArray[480],
     io_update_valid & update_idx == 9'h1DF | validArray[479],
     io_update_valid & update_idx == 9'h1DE | validArray[478],
     io_update_valid & update_idx == 9'h1DD | validArray[477],
     io_update_valid & update_idx == 9'h1DC | validArray[476],
     io_update_valid & update_idx == 9'h1DB | validArray[475],
     io_update_valid & update_idx == 9'h1DA | validArray[474],
     io_update_valid & update_idx == 9'h1D9 | validArray[473],
     io_update_valid & update_idx == 9'h1D8 | validArray[472],
     io_update_valid & update_idx == 9'h1D7 | validArray[471],
     io_update_valid & update_idx == 9'h1D6 | validArray[470],
     io_update_valid & update_idx == 9'h1D5 | validArray[469],
     io_update_valid & update_idx == 9'h1D4 | validArray[468],
     io_update_valid & update_idx == 9'h1D3 | validArray[467],
     io_update_valid & update_idx == 9'h1D2 | validArray[466],
     io_update_valid & update_idx == 9'h1D1 | validArray[465],
     io_update_valid & update_idx == 9'h1D0 | validArray[464],
     io_update_valid & update_idx == 9'h1CF | validArray[463],
     io_update_valid & update_idx == 9'h1CE | validArray[462],
     io_update_valid & update_idx == 9'h1CD | validArray[461],
     io_update_valid & update_idx == 9'h1CC | validArray[460],
     io_update_valid & update_idx == 9'h1CB | validArray[459],
     io_update_valid & update_idx == 9'h1CA | validArray[458],
     io_update_valid & update_idx == 9'h1C9 | validArray[457],
     io_update_valid & update_idx == 9'h1C8 | validArray[456],
     io_update_valid & update_idx == 9'h1C7 | validArray[455],
     io_update_valid & update_idx == 9'h1C6 | validArray[454],
     io_update_valid & update_idx == 9'h1C5 | validArray[453],
     io_update_valid & update_idx == 9'h1C4 | validArray[452],
     io_update_valid & update_idx == 9'h1C3 | validArray[451],
     io_update_valid & update_idx == 9'h1C2 | validArray[450],
     io_update_valid & update_idx == 9'h1C1 | validArray[449],
     io_update_valid & update_idx == 9'h1C0 | validArray[448],
     io_update_valid & update_idx == 9'h1BF | validArray[447],
     io_update_valid & update_idx == 9'h1BE | validArray[446],
     io_update_valid & update_idx == 9'h1BD | validArray[445],
     io_update_valid & update_idx == 9'h1BC | validArray[444],
     io_update_valid & update_idx == 9'h1BB | validArray[443],
     io_update_valid & update_idx == 9'h1BA | validArray[442],
     io_update_valid & update_idx == 9'h1B9 | validArray[441],
     io_update_valid & update_idx == 9'h1B8 | validArray[440],
     io_update_valid & update_idx == 9'h1B7 | validArray[439],
     io_update_valid & update_idx == 9'h1B6 | validArray[438],
     io_update_valid & update_idx == 9'h1B5 | validArray[437],
     io_update_valid & update_idx == 9'h1B4 | validArray[436],
     io_update_valid & update_idx == 9'h1B3 | validArray[435],
     io_update_valid & update_idx == 9'h1B2 | validArray[434],
     io_update_valid & update_idx == 9'h1B1 | validArray[433],
     io_update_valid & update_idx == 9'h1B0 | validArray[432],
     io_update_valid & update_idx == 9'h1AF | validArray[431],
     io_update_valid & update_idx == 9'h1AE | validArray[430],
     io_update_valid & update_idx == 9'h1AD | validArray[429],
     io_update_valid & update_idx == 9'h1AC | validArray[428],
     io_update_valid & update_idx == 9'h1AB | validArray[427],
     io_update_valid & update_idx == 9'h1AA | validArray[426],
     io_update_valid & update_idx == 9'h1A9 | validArray[425],
     io_update_valid & update_idx == 9'h1A8 | validArray[424],
     io_update_valid & update_idx == 9'h1A7 | validArray[423],
     io_update_valid & update_idx == 9'h1A6 | validArray[422],
     io_update_valid & update_idx == 9'h1A5 | validArray[421],
     io_update_valid & update_idx == 9'h1A4 | validArray[420],
     io_update_valid & update_idx == 9'h1A3 | validArray[419],
     io_update_valid & update_idx == 9'h1A2 | validArray[418],
     io_update_valid & update_idx == 9'h1A1 | validArray[417],
     io_update_valid & update_idx == 9'h1A0 | validArray[416],
     io_update_valid & update_idx == 9'h19F | validArray[415],
     io_update_valid & update_idx == 9'h19E | validArray[414],
     io_update_valid & update_idx == 9'h19D | validArray[413],
     io_update_valid & update_idx == 9'h19C | validArray[412],
     io_update_valid & update_idx == 9'h19B | validArray[411],
     io_update_valid & update_idx == 9'h19A | validArray[410],
     io_update_valid & update_idx == 9'h199 | validArray[409],
     io_update_valid & update_idx == 9'h198 | validArray[408],
     io_update_valid & update_idx == 9'h197 | validArray[407],
     io_update_valid & update_idx == 9'h196 | validArray[406],
     io_update_valid & update_idx == 9'h195 | validArray[405],
     io_update_valid & update_idx == 9'h194 | validArray[404],
     io_update_valid & update_idx == 9'h193 | validArray[403],
     io_update_valid & update_idx == 9'h192 | validArray[402],
     io_update_valid & update_idx == 9'h191 | validArray[401],
     io_update_valid & update_idx == 9'h190 | validArray[400],
     io_update_valid & update_idx == 9'h18F | validArray[399],
     io_update_valid & update_idx == 9'h18E | validArray[398],
     io_update_valid & update_idx == 9'h18D | validArray[397],
     io_update_valid & update_idx == 9'h18C | validArray[396],
     io_update_valid & update_idx == 9'h18B | validArray[395],
     io_update_valid & update_idx == 9'h18A | validArray[394],
     io_update_valid & update_idx == 9'h189 | validArray[393],
     io_update_valid & update_idx == 9'h188 | validArray[392],
     io_update_valid & update_idx == 9'h187 | validArray[391],
     io_update_valid & update_idx == 9'h186 | validArray[390],
     io_update_valid & update_idx == 9'h185 | validArray[389],
     io_update_valid & update_idx == 9'h184 | validArray[388],
     io_update_valid & update_idx == 9'h183 | validArray[387],
     io_update_valid & update_idx == 9'h182 | validArray[386],
     io_update_valid & update_idx == 9'h181 | validArray[385],
     io_update_valid & update_idx == 9'h180 | validArray[384],
     io_update_valid & update_idx == 9'h17F | validArray[383],
     io_update_valid & update_idx == 9'h17E | validArray[382],
     io_update_valid & update_idx == 9'h17D | validArray[381],
     io_update_valid & update_idx == 9'h17C | validArray[380],
     io_update_valid & update_idx == 9'h17B | validArray[379],
     io_update_valid & update_idx == 9'h17A | validArray[378],
     io_update_valid & update_idx == 9'h179 | validArray[377],
     io_update_valid & update_idx == 9'h178 | validArray[376],
     io_update_valid & update_idx == 9'h177 | validArray[375],
     io_update_valid & update_idx == 9'h176 | validArray[374],
     io_update_valid & update_idx == 9'h175 | validArray[373],
     io_update_valid & update_idx == 9'h174 | validArray[372],
     io_update_valid & update_idx == 9'h173 | validArray[371],
     io_update_valid & update_idx == 9'h172 | validArray[370],
     io_update_valid & update_idx == 9'h171 | validArray[369],
     io_update_valid & update_idx == 9'h170 | validArray[368],
     io_update_valid & update_idx == 9'h16F | validArray[367],
     io_update_valid & update_idx == 9'h16E | validArray[366],
     io_update_valid & update_idx == 9'h16D | validArray[365],
     io_update_valid & update_idx == 9'h16C | validArray[364],
     io_update_valid & update_idx == 9'h16B | validArray[363],
     io_update_valid & update_idx == 9'h16A | validArray[362],
     io_update_valid & update_idx == 9'h169 | validArray[361],
     io_update_valid & update_idx == 9'h168 | validArray[360],
     io_update_valid & update_idx == 9'h167 | validArray[359],
     io_update_valid & update_idx == 9'h166 | validArray[358],
     io_update_valid & update_idx == 9'h165 | validArray[357],
     io_update_valid & update_idx == 9'h164 | validArray[356],
     io_update_valid & update_idx == 9'h163 | validArray[355],
     io_update_valid & update_idx == 9'h162 | validArray[354],
     io_update_valid & update_idx == 9'h161 | validArray[353],
     io_update_valid & update_idx == 9'h160 | validArray[352],
     io_update_valid & update_idx == 9'h15F | validArray[351],
     io_update_valid & update_idx == 9'h15E | validArray[350],
     io_update_valid & update_idx == 9'h15D | validArray[349],
     io_update_valid & update_idx == 9'h15C | validArray[348],
     io_update_valid & update_idx == 9'h15B | validArray[347],
     io_update_valid & update_idx == 9'h15A | validArray[346],
     io_update_valid & update_idx == 9'h159 | validArray[345],
     io_update_valid & update_idx == 9'h158 | validArray[344],
     io_update_valid & update_idx == 9'h157 | validArray[343],
     io_update_valid & update_idx == 9'h156 | validArray[342],
     io_update_valid & update_idx == 9'h155 | validArray[341],
     io_update_valid & update_idx == 9'h154 | validArray[340],
     io_update_valid & update_idx == 9'h153 | validArray[339],
     io_update_valid & update_idx == 9'h152 | validArray[338],
     io_update_valid & update_idx == 9'h151 | validArray[337],
     io_update_valid & update_idx == 9'h150 | validArray[336],
     io_update_valid & update_idx == 9'h14F | validArray[335],
     io_update_valid & update_idx == 9'h14E | validArray[334],
     io_update_valid & update_idx == 9'h14D | validArray[333],
     io_update_valid & update_idx == 9'h14C | validArray[332],
     io_update_valid & update_idx == 9'h14B | validArray[331],
     io_update_valid & update_idx == 9'h14A | validArray[330],
     io_update_valid & update_idx == 9'h149 | validArray[329],
     io_update_valid & update_idx == 9'h148 | validArray[328],
     io_update_valid & update_idx == 9'h147 | validArray[327],
     io_update_valid & update_idx == 9'h146 | validArray[326],
     io_update_valid & update_idx == 9'h145 | validArray[325],
     io_update_valid & update_idx == 9'h144 | validArray[324],
     io_update_valid & update_idx == 9'h143 | validArray[323],
     io_update_valid & update_idx == 9'h142 | validArray[322],
     io_update_valid & update_idx == 9'h141 | validArray[321],
     io_update_valid & update_idx == 9'h140 | validArray[320],
     io_update_valid & update_idx == 9'h13F | validArray[319],
     io_update_valid & update_idx == 9'h13E | validArray[318],
     io_update_valid & update_idx == 9'h13D | validArray[317],
     io_update_valid & update_idx == 9'h13C | validArray[316],
     io_update_valid & update_idx == 9'h13B | validArray[315],
     io_update_valid & update_idx == 9'h13A | validArray[314],
     io_update_valid & update_idx == 9'h139 | validArray[313],
     io_update_valid & update_idx == 9'h138 | validArray[312],
     io_update_valid & update_idx == 9'h137 | validArray[311],
     io_update_valid & update_idx == 9'h136 | validArray[310],
     io_update_valid & update_idx == 9'h135 | validArray[309],
     io_update_valid & update_idx == 9'h134 | validArray[308],
     io_update_valid & update_idx == 9'h133 | validArray[307],
     io_update_valid & update_idx == 9'h132 | validArray[306],
     io_update_valid & update_idx == 9'h131 | validArray[305],
     io_update_valid & update_idx == 9'h130 | validArray[304],
     io_update_valid & update_idx == 9'h12F | validArray[303],
     io_update_valid & update_idx == 9'h12E | validArray[302],
     io_update_valid & update_idx == 9'h12D | validArray[301],
     io_update_valid & update_idx == 9'h12C | validArray[300],
     io_update_valid & update_idx == 9'h12B | validArray[299],
     io_update_valid & update_idx == 9'h12A | validArray[298],
     io_update_valid & update_idx == 9'h129 | validArray[297],
     io_update_valid & update_idx == 9'h128 | validArray[296],
     io_update_valid & update_idx == 9'h127 | validArray[295],
     io_update_valid & update_idx == 9'h126 | validArray[294],
     io_update_valid & update_idx == 9'h125 | validArray[293],
     io_update_valid & update_idx == 9'h124 | validArray[292],
     io_update_valid & update_idx == 9'h123 | validArray[291],
     io_update_valid & update_idx == 9'h122 | validArray[290],
     io_update_valid & update_idx == 9'h121 | validArray[289],
     io_update_valid & update_idx == 9'h120 | validArray[288],
     io_update_valid & update_idx == 9'h11F | validArray[287],
     io_update_valid & update_idx == 9'h11E | validArray[286],
     io_update_valid & update_idx == 9'h11D | validArray[285],
     io_update_valid & update_idx == 9'h11C | validArray[284],
     io_update_valid & update_idx == 9'h11B | validArray[283],
     io_update_valid & update_idx == 9'h11A | validArray[282],
     io_update_valid & update_idx == 9'h119 | validArray[281],
     io_update_valid & update_idx == 9'h118 | validArray[280],
     io_update_valid & update_idx == 9'h117 | validArray[279],
     io_update_valid & update_idx == 9'h116 | validArray[278],
     io_update_valid & update_idx == 9'h115 | validArray[277],
     io_update_valid & update_idx == 9'h114 | validArray[276],
     io_update_valid & update_idx == 9'h113 | validArray[275],
     io_update_valid & update_idx == 9'h112 | validArray[274],
     io_update_valid & update_idx == 9'h111 | validArray[273],
     io_update_valid & update_idx == 9'h110 | validArray[272],
     io_update_valid & update_idx == 9'h10F | validArray[271],
     io_update_valid & update_idx == 9'h10E | validArray[270],
     io_update_valid & update_idx == 9'h10D | validArray[269],
     io_update_valid & update_idx == 9'h10C | validArray[268],
     io_update_valid & update_idx == 9'h10B | validArray[267],
     io_update_valid & update_idx == 9'h10A | validArray[266],
     io_update_valid & update_idx == 9'h109 | validArray[265],
     io_update_valid & update_idx == 9'h108 | validArray[264],
     io_update_valid & update_idx == 9'h107 | validArray[263],
     io_update_valid & update_idx == 9'h106 | validArray[262],
     io_update_valid & update_idx == 9'h105 | validArray[261],
     io_update_valid & update_idx == 9'h104 | validArray[260],
     io_update_valid & update_idx == 9'h103 | validArray[259],
     io_update_valid & update_idx == 9'h102 | validArray[258],
     io_update_valid & update_idx == 9'h101 | validArray[257],
     io_update_valid & update_idx == 9'h100 | validArray[256],
     io_update_valid & update_idx == 9'hFF | validArray[255],
     io_update_valid & update_idx == 9'hFE | validArray[254],
     io_update_valid & update_idx == 9'hFD | validArray[253],
     io_update_valid & update_idx == 9'hFC | validArray[252],
     io_update_valid & update_idx == 9'hFB | validArray[251],
     io_update_valid & update_idx == 9'hFA | validArray[250],
     io_update_valid & update_idx == 9'hF9 | validArray[249],
     io_update_valid & update_idx == 9'hF8 | validArray[248],
     io_update_valid & update_idx == 9'hF7 | validArray[247],
     io_update_valid & update_idx == 9'hF6 | validArray[246],
     io_update_valid & update_idx == 9'hF5 | validArray[245],
     io_update_valid & update_idx == 9'hF4 | validArray[244],
     io_update_valid & update_idx == 9'hF3 | validArray[243],
     io_update_valid & update_idx == 9'hF2 | validArray[242],
     io_update_valid & update_idx == 9'hF1 | validArray[241],
     io_update_valid & update_idx == 9'hF0 | validArray[240],
     io_update_valid & update_idx == 9'hEF | validArray[239],
     io_update_valid & update_idx == 9'hEE | validArray[238],
     io_update_valid & update_idx == 9'hED | validArray[237],
     io_update_valid & update_idx == 9'hEC | validArray[236],
     io_update_valid & update_idx == 9'hEB | validArray[235],
     io_update_valid & update_idx == 9'hEA | validArray[234],
     io_update_valid & update_idx == 9'hE9 | validArray[233],
     io_update_valid & update_idx == 9'hE8 | validArray[232],
     io_update_valid & update_idx == 9'hE7 | validArray[231],
     io_update_valid & update_idx == 9'hE6 | validArray[230],
     io_update_valid & update_idx == 9'hE5 | validArray[229],
     io_update_valid & update_idx == 9'hE4 | validArray[228],
     io_update_valid & update_idx == 9'hE3 | validArray[227],
     io_update_valid & update_idx == 9'hE2 | validArray[226],
     io_update_valid & update_idx == 9'hE1 | validArray[225],
     io_update_valid & update_idx == 9'hE0 | validArray[224],
     io_update_valid & update_idx == 9'hDF | validArray[223],
     io_update_valid & update_idx == 9'hDE | validArray[222],
     io_update_valid & update_idx == 9'hDD | validArray[221],
     io_update_valid & update_idx == 9'hDC | validArray[220],
     io_update_valid & update_idx == 9'hDB | validArray[219],
     io_update_valid & update_idx == 9'hDA | validArray[218],
     io_update_valid & update_idx == 9'hD9 | validArray[217],
     io_update_valid & update_idx == 9'hD8 | validArray[216],
     io_update_valid & update_idx == 9'hD7 | validArray[215],
     io_update_valid & update_idx == 9'hD6 | validArray[214],
     io_update_valid & update_idx == 9'hD5 | validArray[213],
     io_update_valid & update_idx == 9'hD4 | validArray[212],
     io_update_valid & update_idx == 9'hD3 | validArray[211],
     io_update_valid & update_idx == 9'hD2 | validArray[210],
     io_update_valid & update_idx == 9'hD1 | validArray[209],
     io_update_valid & update_idx == 9'hD0 | validArray[208],
     io_update_valid & update_idx == 9'hCF | validArray[207],
     io_update_valid & update_idx == 9'hCE | validArray[206],
     io_update_valid & update_idx == 9'hCD | validArray[205],
     io_update_valid & update_idx == 9'hCC | validArray[204],
     io_update_valid & update_idx == 9'hCB | validArray[203],
     io_update_valid & update_idx == 9'hCA | validArray[202],
     io_update_valid & update_idx == 9'hC9 | validArray[201],
     io_update_valid & update_idx == 9'hC8 | validArray[200],
     io_update_valid & update_idx == 9'hC7 | validArray[199],
     io_update_valid & update_idx == 9'hC6 | validArray[198],
     io_update_valid & update_idx == 9'hC5 | validArray[197],
     io_update_valid & update_idx == 9'hC4 | validArray[196],
     io_update_valid & update_idx == 9'hC3 | validArray[195],
     io_update_valid & update_idx == 9'hC2 | validArray[194],
     io_update_valid & update_idx == 9'hC1 | validArray[193],
     io_update_valid & update_idx == 9'hC0 | validArray[192],
     io_update_valid & update_idx == 9'hBF | validArray[191],
     io_update_valid & update_idx == 9'hBE | validArray[190],
     io_update_valid & update_idx == 9'hBD | validArray[189],
     io_update_valid & update_idx == 9'hBC | validArray[188],
     io_update_valid & update_idx == 9'hBB | validArray[187],
     io_update_valid & update_idx == 9'hBA | validArray[186],
     io_update_valid & update_idx == 9'hB9 | validArray[185],
     io_update_valid & update_idx == 9'hB8 | validArray[184],
     io_update_valid & update_idx == 9'hB7 | validArray[183],
     io_update_valid & update_idx == 9'hB6 | validArray[182],
     io_update_valid & update_idx == 9'hB5 | validArray[181],
     io_update_valid & update_idx == 9'hB4 | validArray[180],
     io_update_valid & update_idx == 9'hB3 | validArray[179],
     io_update_valid & update_idx == 9'hB2 | validArray[178],
     io_update_valid & update_idx == 9'hB1 | validArray[177],
     io_update_valid & update_idx == 9'hB0 | validArray[176],
     io_update_valid & update_idx == 9'hAF | validArray[175],
     io_update_valid & update_idx == 9'hAE | validArray[174],
     io_update_valid & update_idx == 9'hAD | validArray[173],
     io_update_valid & update_idx == 9'hAC | validArray[172],
     io_update_valid & update_idx == 9'hAB | validArray[171],
     io_update_valid & update_idx == 9'hAA | validArray[170],
     io_update_valid & update_idx == 9'hA9 | validArray[169],
     io_update_valid & update_idx == 9'hA8 | validArray[168],
     io_update_valid & update_idx == 9'hA7 | validArray[167],
     io_update_valid & update_idx == 9'hA6 | validArray[166],
     io_update_valid & update_idx == 9'hA5 | validArray[165],
     io_update_valid & update_idx == 9'hA4 | validArray[164],
     io_update_valid & update_idx == 9'hA3 | validArray[163],
     io_update_valid & update_idx == 9'hA2 | validArray[162],
     io_update_valid & update_idx == 9'hA1 | validArray[161],
     io_update_valid & update_idx == 9'hA0 | validArray[160],
     io_update_valid & update_idx == 9'h9F | validArray[159],
     io_update_valid & update_idx == 9'h9E | validArray[158],
     io_update_valid & update_idx == 9'h9D | validArray[157],
     io_update_valid & update_idx == 9'h9C | validArray[156],
     io_update_valid & update_idx == 9'h9B | validArray[155],
     io_update_valid & update_idx == 9'h9A | validArray[154],
     io_update_valid & update_idx == 9'h99 | validArray[153],
     io_update_valid & update_idx == 9'h98 | validArray[152],
     io_update_valid & update_idx == 9'h97 | validArray[151],
     io_update_valid & update_idx == 9'h96 | validArray[150],
     io_update_valid & update_idx == 9'h95 | validArray[149],
     io_update_valid & update_idx == 9'h94 | validArray[148],
     io_update_valid & update_idx == 9'h93 | validArray[147],
     io_update_valid & update_idx == 9'h92 | validArray[146],
     io_update_valid & update_idx == 9'h91 | validArray[145],
     io_update_valid & update_idx == 9'h90 | validArray[144],
     io_update_valid & update_idx == 9'h8F | validArray[143],
     io_update_valid & update_idx == 9'h8E | validArray[142],
     io_update_valid & update_idx == 9'h8D | validArray[141],
     io_update_valid & update_idx == 9'h8C | validArray[140],
     io_update_valid & update_idx == 9'h8B | validArray[139],
     io_update_valid & update_idx == 9'h8A | validArray[138],
     io_update_valid & update_idx == 9'h89 | validArray[137],
     io_update_valid & update_idx == 9'h88 | validArray[136],
     io_update_valid & update_idx == 9'h87 | validArray[135],
     io_update_valid & update_idx == 9'h86 | validArray[134],
     io_update_valid & update_idx == 9'h85 | validArray[133],
     io_update_valid & update_idx == 9'h84 | validArray[132],
     io_update_valid & update_idx == 9'h83 | validArray[131],
     io_update_valid & update_idx == 9'h82 | validArray[130],
     io_update_valid & update_idx == 9'h81 | validArray[129],
     io_update_valid & update_idx == 9'h80 | validArray[128],
     io_update_valid & update_idx == 9'h7F | validArray[127],
     io_update_valid & update_idx == 9'h7E | validArray[126],
     io_update_valid & update_idx == 9'h7D | validArray[125],
     io_update_valid & update_idx == 9'h7C | validArray[124],
     io_update_valid & update_idx == 9'h7B | validArray[123],
     io_update_valid & update_idx == 9'h7A | validArray[122],
     io_update_valid & update_idx == 9'h79 | validArray[121],
     io_update_valid & update_idx == 9'h78 | validArray[120],
     io_update_valid & update_idx == 9'h77 | validArray[119],
     io_update_valid & update_idx == 9'h76 | validArray[118],
     io_update_valid & update_idx == 9'h75 | validArray[117],
     io_update_valid & update_idx == 9'h74 | validArray[116],
     io_update_valid & update_idx == 9'h73 | validArray[115],
     io_update_valid & update_idx == 9'h72 | validArray[114],
     io_update_valid & update_idx == 9'h71 | validArray[113],
     io_update_valid & update_idx == 9'h70 | validArray[112],
     io_update_valid & update_idx == 9'h6F | validArray[111],
     io_update_valid & update_idx == 9'h6E | validArray[110],
     io_update_valid & update_idx == 9'h6D | validArray[109],
     io_update_valid & update_idx == 9'h6C | validArray[108],
     io_update_valid & update_idx == 9'h6B | validArray[107],
     io_update_valid & update_idx == 9'h6A | validArray[106],
     io_update_valid & update_idx == 9'h69 | validArray[105],
     io_update_valid & update_idx == 9'h68 | validArray[104],
     io_update_valid & update_idx == 9'h67 | validArray[103],
     io_update_valid & update_idx == 9'h66 | validArray[102],
     io_update_valid & update_idx == 9'h65 | validArray[101],
     io_update_valid & update_idx == 9'h64 | validArray[100],
     io_update_valid & update_idx == 9'h63 | validArray[99],
     io_update_valid & update_idx == 9'h62 | validArray[98],
     io_update_valid & update_idx == 9'h61 | validArray[97],
     io_update_valid & update_idx == 9'h60 | validArray[96],
     io_update_valid & update_idx == 9'h5F | validArray[95],
     io_update_valid & update_idx == 9'h5E | validArray[94],
     io_update_valid & update_idx == 9'h5D | validArray[93],
     io_update_valid & update_idx == 9'h5C | validArray[92],
     io_update_valid & update_idx == 9'h5B | validArray[91],
     io_update_valid & update_idx == 9'h5A | validArray[90],
     io_update_valid & update_idx == 9'h59 | validArray[89],
     io_update_valid & update_idx == 9'h58 | validArray[88],
     io_update_valid & update_idx == 9'h57 | validArray[87],
     io_update_valid & update_idx == 9'h56 | validArray[86],
     io_update_valid & update_idx == 9'h55 | validArray[85],
     io_update_valid & update_idx == 9'h54 | validArray[84],
     io_update_valid & update_idx == 9'h53 | validArray[83],
     io_update_valid & update_idx == 9'h52 | validArray[82],
     io_update_valid & update_idx == 9'h51 | validArray[81],
     io_update_valid & update_idx == 9'h50 | validArray[80],
     io_update_valid & update_idx == 9'h4F | validArray[79],
     io_update_valid & update_idx == 9'h4E | validArray[78],
     io_update_valid & update_idx == 9'h4D | validArray[77],
     io_update_valid & update_idx == 9'h4C | validArray[76],
     io_update_valid & update_idx == 9'h4B | validArray[75],
     io_update_valid & update_idx == 9'h4A | validArray[74],
     io_update_valid & update_idx == 9'h49 | validArray[73],
     io_update_valid & update_idx == 9'h48 | validArray[72],
     io_update_valid & update_idx == 9'h47 | validArray[71],
     io_update_valid & update_idx == 9'h46 | validArray[70],
     io_update_valid & update_idx == 9'h45 | validArray[69],
     io_update_valid & update_idx == 9'h44 | validArray[68],
     io_update_valid & update_idx == 9'h43 | validArray[67],
     io_update_valid & update_idx == 9'h42 | validArray[66],
     io_update_valid & update_idx == 9'h41 | validArray[65],
     io_update_valid & update_idx == 9'h40 | validArray[64],
     io_update_valid & update_idx == 9'h3F | validArray[63],
     io_update_valid & update_idx == 9'h3E | validArray[62],
     io_update_valid & update_idx == 9'h3D | validArray[61],
     io_update_valid & update_idx == 9'h3C | validArray[60],
     io_update_valid & update_idx == 9'h3B | validArray[59],
     io_update_valid & update_idx == 9'h3A | validArray[58],
     io_update_valid & update_idx == 9'h39 | validArray[57],
     io_update_valid & update_idx == 9'h38 | validArray[56],
     io_update_valid & update_idx == 9'h37 | validArray[55],
     io_update_valid & update_idx == 9'h36 | validArray[54],
     io_update_valid & update_idx == 9'h35 | validArray[53],
     io_update_valid & update_idx == 9'h34 | validArray[52],
     io_update_valid & update_idx == 9'h33 | validArray[51],
     io_update_valid & update_idx == 9'h32 | validArray[50],
     io_update_valid & update_idx == 9'h31 | validArray[49],
     io_update_valid & update_idx == 9'h30 | validArray[48],
     io_update_valid & update_idx == 9'h2F | validArray[47],
     io_update_valid & update_idx == 9'h2E | validArray[46],
     io_update_valid & update_idx == 9'h2D | validArray[45],
     io_update_valid & update_idx == 9'h2C | validArray[44],
     io_update_valid & update_idx == 9'h2B | validArray[43],
     io_update_valid & update_idx == 9'h2A | validArray[42],
     io_update_valid & update_idx == 9'h29 | validArray[41],
     io_update_valid & update_idx == 9'h28 | validArray[40],
     io_update_valid & update_idx == 9'h27 | validArray[39],
     io_update_valid & update_idx == 9'h26 | validArray[38],
     io_update_valid & update_idx == 9'h25 | validArray[37],
     io_update_valid & update_idx == 9'h24 | validArray[36],
     io_update_valid & update_idx == 9'h23 | validArray[35],
     io_update_valid & update_idx == 9'h22 | validArray[34],
     io_update_valid & update_idx == 9'h21 | validArray[33],
     io_update_valid & update_idx == 9'h20 | validArray[32],
     io_update_valid & update_idx == 9'h1F | validArray[31],
     io_update_valid & update_idx == 9'h1E | validArray[30],
     io_update_valid & update_idx == 9'h1D | validArray[29],
     io_update_valid & update_idx == 9'h1C | validArray[28],
     io_update_valid & update_idx == 9'h1B | validArray[27],
     io_update_valid & update_idx == 9'h1A | validArray[26],
     io_update_valid & update_idx == 9'h19 | validArray[25],
     io_update_valid & update_idx == 9'h18 | validArray[24],
     io_update_valid & update_idx == 9'h17 | validArray[23],
     io_update_valid & update_idx == 9'h16 | validArray[22],
     io_update_valid & update_idx == 9'h15 | validArray[21],
     io_update_valid & update_idx == 9'h14 | validArray[20],
     io_update_valid & update_idx == 9'h13 | validArray[19],
     io_update_valid & update_idx == 9'h12 | validArray[18],
     io_update_valid & update_idx == 9'h11 | validArray[17],
     io_update_valid & update_idx == 9'h10 | validArray[16],
     io_update_valid & update_idx == 9'hF | validArray[15],
     io_update_valid & update_idx == 9'hE | validArray[14],
     io_update_valid & update_idx == 9'hD | validArray[13],
     io_update_valid & update_idx == 9'hC | validArray[12],
     io_update_valid & update_idx == 9'hB | validArray[11],
     io_update_valid & update_idx == 9'hA | validArray[10],
     io_update_valid & update_idx == 9'h9 | validArray[9],
     io_update_valid & update_idx == 9'h8 | validArray[8],
     io_update_valid & update_idx == 9'h7 | validArray[7],
     io_update_valid & update_idx == 9'h6 | validArray[6],
     io_update_valid & update_idx == 9'h5 | validArray[5],
     io_update_valid & update_idx == 9'h4 | validArray[4],
     io_update_valid & update_idx == 9'h3 | validArray[3],
     io_update_valid & update_idx == 9'h2 | validArray[2],
     io_update_valid & update_idx == 9'h1 | validArray[1],
     io_update_valid & update_idx == 9'h0 | validArray[0]};	// src/main/scala/xiangshan/frontend/ITTAGE.scala:181:31, :200:27, :283:{30,42}, :284:26, :285:31, :286:33
  always @(posedge clock or posedge reset) begin
    if (reset)
      validArray <= 512'h0;	// src/main/scala/xiangshan/frontend/ITTAGE.scala:200:27
    else if (io_update_valid)	// src/main/scala/xiangshan/frontend/ITTAGE.scala:145:14
      validArray <= _validArray_T;	// src/main/scala/xiangshan/frontend/ITTAGE.scala:200:27, :286:33
  end // always @(posedge, posedge)
  always @(posedge clock) begin
    if (io_req_valid) begin	// src/main/scala/xiangshan/frontend/ITTAGE.scala:145:14
      s1_idx <= s0_idx;	// src/main/scala/xiangshan/frontend/ITTAGE.scala:181:31, :213:36
      s1_tag <=
        io_req_bits_pc[18:10] ^ io_req_bits_folded_hist_hist_13_folded_hist
        ^ {io_req_bits_folded_hist_hist_4_folded_hist, 1'h0};	// src/main/scala/xiangshan/frontend/ITTAGE.scala:160:86, :182:{32,52,61,75}, :207:43, :213:68
      s1_bank_req_1h_0 <= ~(s0_idx[0]);	// src/main/scala/xiangshan/frontend/ITTAGE.scala:160:{66,86}, :181:{31,40}, :215:33
      s1_bank_req_1h_1 <= s0_idx[0];	// src/main/scala/xiangshan/frontend/ITTAGE.scala:160:66, :181:{31,40}, :215:33
      s1_bank_has_write_on_this_req_0 <= _s1_bank_has_write_on_this_req_WIRE_0;	// src/main/scala/xiangshan/frontend/ITTAGE.scala:240:48, :255:33
      s1_bank_has_write_on_this_req_1 <= _s1_bank_has_write_on_this_req_WIRE_1;	// src/main/scala/xiangshan/frontend/ITTAGE.scala:240:48, :255:33
    end
  end // always @(posedge)
  `ifdef ENABLE_INITIAL_REG_	// src/main/scala/xiangshan/frontend/ITTAGE.scala:140:7
    `ifdef FIRRTL_BEFORE_INITIAL	// src/main/scala/xiangshan/frontend/ITTAGE.scala:140:7
      `FIRRTL_BEFORE_INITIAL	// src/main/scala/xiangshan/frontend/ITTAGE.scala:140:7
    `endif // FIRRTL_BEFORE_INITIAL
    logic [31:0] _RANDOM[0:16];	// src/main/scala/xiangshan/frontend/ITTAGE.scala:140:7
    initial begin	// src/main/scala/xiangshan/frontend/ITTAGE.scala:140:7
      `ifdef INIT_RANDOM_PROLOG_	// src/main/scala/xiangshan/frontend/ITTAGE.scala:140:7
        `INIT_RANDOM_PROLOG_	// src/main/scala/xiangshan/frontend/ITTAGE.scala:140:7
      `endif // INIT_RANDOM_PROLOG_
      `ifdef RANDOMIZE_REG_INIT	// src/main/scala/xiangshan/frontend/ITTAGE.scala:140:7
        for (logic [4:0] i = 5'h0; i < 5'h11; i += 5'h1) begin
          _RANDOM[i] = `RANDOM;	// src/main/scala/xiangshan/frontend/ITTAGE.scala:140:7
        end	// src/main/scala/xiangshan/frontend/ITTAGE.scala:140:7
        validArray =
          {_RANDOM[5'h0],
           _RANDOM[5'h1],
           _RANDOM[5'h2],
           _RANDOM[5'h3],
           _RANDOM[5'h4],
           _RANDOM[5'h5],
           _RANDOM[5'h6],
           _RANDOM[5'h7],
           _RANDOM[5'h8],
           _RANDOM[5'h9],
           _RANDOM[5'hA],
           _RANDOM[5'hB],
           _RANDOM[5'hC],
           _RANDOM[5'hD],
           _RANDOM[5'hE],
           _RANDOM[5'hF]};	// src/main/scala/xiangshan/frontend/ITTAGE.scala:140:7, :200:27
        s1_idx = _RANDOM[5'h10][8:0];	// src/main/scala/xiangshan/frontend/ITTAGE.scala:140:7, :213:36
        s1_tag = _RANDOM[5'h10][17:9];	// src/main/scala/xiangshan/frontend/ITTAGE.scala:140:7, :213:{36,68}
        s1_bank_req_1h_0 = _RANDOM[5'h10][18];	// src/main/scala/xiangshan/frontend/ITTAGE.scala:140:7, :213:36, :215:33
        s1_bank_req_1h_1 = _RANDOM[5'h10][19];	// src/main/scala/xiangshan/frontend/ITTAGE.scala:140:7, :213:36, :215:33
        s1_bank_has_write_on_this_req_0 = _RANDOM[5'h10][20];	// src/main/scala/xiangshan/frontend/ITTAGE.scala:140:7, :213:36, :240:48
        s1_bank_has_write_on_this_req_1 = _RANDOM[5'h10][21];	// src/main/scala/xiangshan/frontend/ITTAGE.scala:140:7, :213:36, :240:48
      `endif // RANDOMIZE_REG_INIT
      if (reset)	// src/main/scala/xiangshan/frontend/ITTAGE.scala:140:7
        validArray = 512'h0;	// src/main/scala/xiangshan/frontend/ITTAGE.scala:200:27
    end // initial
    `ifdef FIRRTL_AFTER_INITIAL	// src/main/scala/xiangshan/frontend/ITTAGE.scala:140:7
      `FIRRTL_AFTER_INITIAL	// src/main/scala/xiangshan/frontend/ITTAGE.scala:140:7
    `endif // FIRRTL_AFTER_INITIAL
  `endif // ENABLE_INITIAL_REG_
  Folded1WDataModuleTemplate_2 us (	// src/main/scala/xiangshan/frontend/ITTAGE.scala:217:18
    .clock      (clock),
    .reset      (reset),
    .io_raddr_0 (s0_idx),	// src/main/scala/xiangshan/frontend/ITTAGE.scala:181:31
    .io_rdata_0 (_us_io_rdata_0),
    .io_wen     (io_update_uValid),
    .io_waddr   (update_idx),	// src/main/scala/xiangshan/frontend/ITTAGE.scala:181:31
    .io_wdata   (io_update_u),
    .io_resetEn (io_update_reset_u)
  );
  FoldedSRAMTemplate_25 table_banks_0 (	// src/main/scala/xiangshan/frontend/ITTAGE.scala:220:11
    .clock                       (clock),
    .reset                       (reset),
    .io_r_req_valid              (io_req_valid & ~(s0_idx[0])),	// src/main/scala/xiangshan/frontend/ITTAGE.scala:160:{66,86}, :181:{31,40}, :223:50
    .io_r_req_bits_setIdx        (s0_idx[8:1]),	// src/main/scala/xiangshan/frontend/ITTAGE.scala:161:37, :181:{31,40}
    .io_r_resp_data_0_tag        (_table_banks_0_io_r_resp_data_0_tag),
    .io_r_resp_data_0_ctr        (_table_banks_0_io_r_resp_data_0_ctr),
    .io_r_resp_data_0_target     (_table_banks_0_io_r_resp_data_0_target),
    .io_w_req_valid              (_s1_bank_has_write_on_this_req_WIRE_0),	// src/main/scala/xiangshan/frontend/ITTAGE.scala:255:33
    .io_w_req_bits_setIdx        (update_idx[8:1]),	// src/main/scala/xiangshan/frontend/ITTAGE.scala:161:37, :181:{31,40}
    .io_w_req_bits_data_0_tag    (update_wdata_tag),	// src/main/scala/xiangshan/frontend/ITTAGE.scala:182:61
    .io_w_req_bits_data_0_ctr    (update_wdata_ctr),	// src/main/scala/xiangshan/frontend/ITTAGE.scala:278:28
    .io_w_req_bits_data_0_target (update_wdata_target)	// src/main/scala/xiangshan/frontend/ITTAGE.scala:281:29
  );
  FoldedSRAMTemplate_25 table_banks_1 (	// src/main/scala/xiangshan/frontend/ITTAGE.scala:220:11
    .clock                       (clock),
    .reset                       (reset),
    .io_r_req_valid              (io_req_valid & s0_idx[0]),	// src/main/scala/xiangshan/frontend/ITTAGE.scala:160:66, :181:{31,40}, :223:50
    .io_r_req_bits_setIdx        (s0_idx[8:1]),	// src/main/scala/xiangshan/frontend/ITTAGE.scala:161:37, :181:{31,40}
    .io_r_resp_data_0_tag        (_table_banks_1_io_r_resp_data_0_tag),
    .io_r_resp_data_0_ctr        (_table_banks_1_io_r_resp_data_0_ctr),
    .io_r_resp_data_0_target     (_table_banks_1_io_r_resp_data_0_target),
    .io_w_req_valid              (_s1_bank_has_write_on_this_req_WIRE_1),	// src/main/scala/xiangshan/frontend/ITTAGE.scala:255:33
    .io_w_req_bits_setIdx        (update_idx[8:1]),	// src/main/scala/xiangshan/frontend/ITTAGE.scala:161:37, :181:{31,40}
    .io_w_req_bits_data_0_tag    (update_wdata_tag),	// src/main/scala/xiangshan/frontend/ITTAGE.scala:182:61
    .io_w_req_bits_data_0_ctr    (update_wdata_ctr),	// src/main/scala/xiangshan/frontend/ITTAGE.scala:278:28
    .io_w_req_bits_data_0_target (update_wdata_target)	// src/main/scala/xiangshan/frontend/ITTAGE.scala:281:29
  );
  WrBypass_43 wrbypass (	// src/main/scala/xiangshan/frontend/ITTAGE.scala:271:24
    .clock              (clock),
    .reset              (reset),
    .io_wen             (io_update_valid),
    .io_write_idx       (update_idx),	// src/main/scala/xiangshan/frontend/ITTAGE.scala:181:31
    .io_write_data_0    (update_wdata_ctr),	// src/main/scala/xiangshan/frontend/ITTAGE.scala:278:28
    .io_hit             (_wrbypass_io_hit),
    .io_hit_data_0_bits (_wrbypass_io_hit_data_0_bits)
  );
  assign io_resp_valid =
    _s1_req_rhit_T[0]
    & ((s1_bank_req_1h_0 ? _table_banks_0_io_r_resp_data_0_tag : 9'h0)
       | (s1_bank_req_1h_1 ? _table_banks_1_io_r_resp_data_0_tag : 9'h0)) == s1_tag
    & ~_resp_invalid_by_write_WIRE;	// src/main/scala/chisel3/util/Mux.scala:30:73, src/main/scala/xiangshan/frontend/ITTAGE.scala:140:7, :213:68, :215:33, :220:11, :232:{31,61}, :235:{50,53}, :285:31
  assign io_resp_bits_ctr =
    (s1_bank_req_1h_0 ? _table_banks_0_io_r_resp_data_0_ctr : 2'h0)
    | (s1_bank_req_1h_1 ? _table_banks_1_io_r_resp_data_0_ctr : 2'h0);	// src/main/scala/chisel3/util/Mux.scala:30:73, src/main/scala/xiangshan/frontend/ITTAGE.scala:140:7, :215:33, :220:11
  assign io_resp_bits_u = {1'h0, _us_io_rdata_0};	// src/main/scala/xiangshan/frontend/ITTAGE.scala:140:7, :160:86, :217:18, :237:18
  assign io_resp_bits_target =
    (s1_bank_req_1h_0 ? _table_banks_0_io_r_resp_data_0_target : 39'h0)
    | (s1_bank_req_1h_1 ? _table_banks_1_io_r_resp_data_0_target : 39'h0);	// src/main/scala/chisel3/util/Mux.scala:30:73, src/main/scala/xiangshan/frontend/ITTAGE.scala:140:7, :215:33, :220:11
endmodule

